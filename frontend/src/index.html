<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EV Route Planner - Планувальник маршрутів для електромобілів</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header__content">
                <h1 class="header__title">
                    <span class="header__icon"><svg width="24" height="24" fill="#27d7da" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M15.425 2.25c.841 0 1.404.798 1.212 1.563l-.049.153L14.49 9.35H17c.985 0 1.532 1.054 1.1 1.854l-.1.156-7.47 10.047c-.54.725-1.621.224-1.527-.605l.785-6.91H7c-.907 0-1.487-.924-1.155-1.735l.005-.011 3.906-9.128a1.25 1.25 0 0 1 1.151-.768z"/></svg></span>
                    EV Route Planner
                </h1>
                <p class="header__subtitle">Оптимальні маршрути для електромобілів</p>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main">
            <!-- Панель вводу -->
            <aside class="sidebar">
                <div class="input-panel">
                    <h2 class="input-panel__title">Параметри маршруту</h2>
                    
                    <form id="routeForm" class="route-form">
                        <!-- Початкова точка -->
                        <div class="form-group">
                            <label for="startPoint" class="form-label">
                                Початкова точка
                            </label>
                            <div class="autocomplete-wrapper">
                                <input 
                                    type="text" 
                                    id="startPoint" 
                                    class="form-input"
                                    placeholder="наприклад: Київ, Хрещатик"
                                    autocomplete="off"
                                    required
                                />
                                <div id="startSuggestions" class="suggestions-list" style="display: none;"></div>
                            </div>
                            <small class="form-hint">Координати: <span id="startCoords">-</span></small>
                        </div>

                        <!-- Кінцева точка -->
                        <div class="form-group">
                            <label for="endPoint" class="form-label">
                                Кінцева точка
                            </label>
                            <div class="autocomplete-wrapper">
                                <input 
                                    type="text" 
                                    id="endPoint" 
                                    class="form-input"
                                    placeholder="наприклад: Одеса"
                                    autocomplete="off"
                                    required
                                />
                                <div id="endSuggestions" class="suggestions-list" style="display: none;"></div>
                            </div>
                            <small class="form-hint">Координати: <span id="endCoords">-</span></small>
                        </div>

                        <!-- Рівень заряду -->
                        <div class="form-group">
                            <label for="batteryLevel" class="form-label">
                                Рівень заряду батареї
                            </label>
                            <div class="battery-input">
                                <input 
                                    type="range" 
                                    id="batteryLevel" 
                                    class="battery-slider"
                                    min="10" 
                                    max="100" 
                                    value="80"
                                    step="5"
                                />
                                <output id="batteryValue" class="battery-value">80%</output>
                            </div>
                        </div>

                        <!-- Параметри авто -->
                        <div class="form-group">
                            <label class="form-label">
                                Параметри електромобіля
                            </label>
                            <div class="vehicle-params">
                                <div class="param">
                                    <label for="batteryCapacity">Ємність (кВт·год)</label>
                                    <input 
                                        type="number" 
                                        id="batteryCapacity" 
                                        class="form-input form-input--small"
                                        value="60"
                                        min="20"
                                        max="250"
                                    />
                                </div>
                                <div class="param">
                                    <label for="consumption">Споживання (кВт·год/км)</label>
                                    <input 
                                        type="number" 
                                        id="consumption" 
                                        class="form-input form-input--small"
                                        value="0.2"
                                        step="0.01"
                                        min="0.1"
                                        max="0.5"
                                    />
                                </div>
                            </div>
                        </div>

                        <!-- Кнопки -->
                        <div class="form-actions">
                            <button type="submit" id="buildRouteBtn" class="btn btn--primary">
                                Побудувати маршрут
                            </button>
                            <button type="button" id="resetBtn" class="btn btn--secondary">
                                Очистити
                            </button>
                        </div>
                    </form>

                    <!-- Статус -->
                    <div id="statusMessage" class="status-message" style="display: none;"></div>

                    <!-- Результати -->
                    <div id="routeInfo" class="route-info" style="display: none;">
                        <h3 class="route-info__title">Характеристики маршруту</h3>
                        <div class="route-stats">
                            <div class="stat">
                                <span class="stat__label">Відстань:</span>
                                <span class="stat__value" id="totalDistance">-</span>
                            </div>
                            <div class="stat">
                                <span class="stat__label">Час в дорозі:</span>
                                <span class="stat__value" id="travelTime">-</span>
                            </div>
                            <div class="stat">
                                <span class="stat__label">Час зарядки:</span>
                                <span class="stat__value" id="chargingTime">-</span>
                            </div>
                            <div class="stat">
                                <span class="stat__label">Зупинок на зарядку:</span>
                                <span class="stat__value" id="chargingStops">-</span>
                            </div>
                        </div>

                        <!-- Список зарядних станцій -->
                        <div id="stationsList" class="stations-list"></div>
                    </div>
                </div>
            </aside>

            <!-- Карта -->
            <section class="map-container">
                <div id="map" class="map"></div>
                <div class="map-controls">
                    <button id="zoomIn" class="map-control" title="Збільшити">+</button>
                    <button id="zoomOut" class="map-control" title="Зменшити">−</button>
                    <button id="resetView" class="map-control" title="Початковий вигляд">⌂</button>
                </div>
                <div id="mapLoader" class="map-loader" style="display: none;">
                    <div class="loader"></div>
                    <p>Побудова маршруту...</p>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>&copy; 2024 EV Route Planner | Курсовий проект | ТВ-33 Непомяща | Data provided by Open Charge Map</p>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="js/autocomplete.js"></script>
    <script src="js/api-client.js"></script>
    <script src="js/map-renderer.js"></script>
    <script src="js/ui-controller.js"></script>
    <script src="js/main.js"></script>
</body>
</html>